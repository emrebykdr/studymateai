<Application x:Class="StudyMateAI.App"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:materialDesign="http://materialdesigninxaml.net/winfx/xaml/themes"
             StartupUri="MainWindow.xaml">
    <Application.Resources>
        <ResourceDictionary>
            <ResourceDictionary.MergedDictionaries>
                <!-- Material Design (Base Dark) -->
                <materialDesign:BundledTheme BaseTheme="Dark" 
                                            PrimaryColor="Teal" 
                                            SecondaryColor="DeepOrange" />
            </ResourceDictionary.MergedDictionaries>

            <!-- MIDNIGHT FOCUS PALETTE -->
            <Color x:Key="VoidBlueColor">#0B1120</Color>
            <Color x:Key="SlateDarkColor">#1E293B</Color>
            <Color x:Key="CyberTealColor">#2DD4BF</Color>
            <Color x:Key="NeonCoralColor">#FF6B6B</Color>
            <Color x:Key="StarlightColor">#F1F5F9</Color>
            <Color x:Key="MoonGrayColor">#94A3B8</Color>
            <Color x:Key="GlassBorderColor">#334155</Color>

            <SolidColorBrush x:Key="VoidBlueBrush" Color="{StaticResource VoidBlueColor}"/>
            <SolidColorBrush x:Key="SlateDarkBrush" Color="{StaticResource SlateDarkColor}"/>
            <SolidColorBrush x:Key="CyberTealBrush" Color="{StaticResource CyberTealColor}"/>
            <SolidColorBrush x:Key="NeonCoralBrush" Color="{StaticResource NeonCoralColor}"/>
            <SolidColorBrush x:Key="StarlightBrush" Color="{StaticResource StarlightColor}"/>
            <SolidColorBrush x:Key="MoonGrayBrush" Color="{StaticResource MoonGrayColor}"/>
            <SolidColorBrush x:Key="GlassBorderBrush" Color="{StaticResource GlassBorderColor}"/>

            <!-- OVERRIDES -->
            <!-- Background (Void Blue) -->
            <SolidColorBrush x:Key="MaterialDesignPaper" Color="{StaticResource VoidBlueColor}"/>
            <SolidColorBrush x:Key="MaterialDesignBackground" Color="{StaticResource VoidBlueColor}"/>
            <SolidColorBrush x:Key="MaterialDesignComboBoxPopupBackground" Color="{StaticResource SlateDarkColor}"/>
            <SolidColorBrush x:Key="MaterialDesignListBoxBackground" Color="Transparent"/>
            
            <!-- Cards (Slate Dark for consistency) -->
            <SolidColorBrush x:Key="MaterialDesignCardBackground" Color="{StaticResource SlateDarkColor}"/>
            
            <!-- Popup Background -->
            <SolidColorBrush x:Key="MaterialDesignPaperBackground" Color="{StaticResource SlateDarkColor}"/>
            <SolidColorBrush x:Key="MaterialDesignToolBarBackground" Color="{StaticResource SlateDarkColor}"/>
            
            <!-- ComboBox Specific Overrides -->
            <SolidColorBrush x:Key="MaterialDesignTextFieldBoxBackground" Color="{StaticResource SlateDarkColor}"/>
            <SolidColorBrush x:Key="MaterialDesignTextFieldBoxHoverBackground" Color="{StaticResource SlateDarkColor}"/>
            <SolidColorBrush x:Key="MaterialDesignTextFieldBoxDisabledBackground" Color="{StaticResource SlateDarkColor}"/>
            <SolidColorBrush x:Key="MaterialDesignSelection" Color="#2DD4BF"/>
            <SolidColorBrush x:Key="MaterialDesignPopupBorder" Color="{StaticResource GlassBorderColor}"/>
            
            <!-- Additional Material Design Overrides to eliminate white backgrounds -->
            <SolidColorBrush x:Key="MaterialDesignChipBackground" Color="{StaticResource SlateDarkColor}"/>
            <SolidColorBrush x:Key="MaterialDesignDataGridRowHoverBackground" Color="{StaticResource SlateDarkColor}"/>
            <SolidColorBrush x:Key="MaterialDesignTextBoxBorder" Color="{StaticResource GlassBorderColor}"/>
            <SolidColorBrush x:Key="MaterialDesignShadowBrush" Color="#00000000"/>
            
            <!-- Force TextBox backgrounds to dark -->
            <SolidColorBrush x:Key="MaterialDesignTextAreaBorder" Color="{StaticResource GlassBorderColor}"/>
            <SolidColorBrush x:Key="MaterialDesignTextAreaInactiveBorder" Color="{StaticResource GlassBorderColor}"/>
            

            <!-- Primary (Cyber Teal) -->
            <SolidColorBrush x:Key="PrimaryHueLightBrush" Color="#5EEEE4"/>
            <SolidColorBrush x:Key="PrimaryHueMidBrush" Color="{StaticResource CyberTealColor}"/>
            <SolidColorBrush x:Key="PrimaryHueDarkBrush" Color="#00A28E"/>
            <SolidColorBrush x:Key="PrimaryHueMidForegroundBrush" Color="#FFFFFF"/> <!-- White text on Teal -->

            <!-- Secondary (Neon Coral) -->
            <SolidColorBrush x:Key="SecondaryHueMidBrush" Color="{StaticResource NeonCoralColor}"/>
            <SolidColorBrush x:Key="SecondaryHueMidForegroundBrush" Color="#FFFFFF"/>

            <!-- Text -->
            <SolidColorBrush x:Key="MaterialDesignBody" Color="{StaticResource StarlightColor}"/>
            <SolidColorBrush x:Key="MaterialDesignBodyLight" Color="{StaticResource MoonGrayColor}"/>

            <!-- Dividers/Borders -->
            <SolidColorBrush x:Key="MaterialDesignDivider" Color="{StaticResource GlassBorderColor}"/>

            <!-- CUSTOM STYLES -->
            
            <!-- ANIMATION RESOURCES -->
            <CubicEase x:Key="EaseOut" EasingMode="EaseOut"/>
            <CubicEase x:Key="EaseInOut" EasingMode="EaseInOut"/>
            <QuadraticEase x:Key="EaseIn" EasingMode="EaseIn"/>
            
            <!-- Card Style with Hover Animation & Elevation -->
            <Style TargetType="{x:Type materialDesign:Card}" BasedOn="{StaticResource {x:Type materialDesign:Card}}">
                <Setter Property="Background" Value="{StaticResource SlateDarkBrush}"/>
                <Setter Property="BorderBrush" Value="{StaticResource GlassBorderBrush}"/>
                <Setter Property="BorderThickness" Value="1"/>
                <Setter Property="UniformCornerRadius" Value="12"/>
                <Setter Property="materialDesign:ElevationAssist.Elevation" Value="Dp4"/>
                <Setter Property="RenderTransform">
                    <Setter.Value>
                        <TranslateTransform Y="0"/>
                    </Setter.Value>
                </Setter>
                <Setter Property="RenderTransformOrigin" Value="0.5,0.5"/>
                <Setter Property="Effect">
                    <Setter.Value>
                        <DropShadowEffect Color="Black" BlurRadius="10" ShadowDepth="2" Opacity="0.3"/>
                    </Setter.Value>
                </Setter>
                <Style.Triggers>
                    <Trigger Property="IsMouseOver" Value="True">
                        <Trigger.EnterActions>
                            <BeginStoryboard>
                                <Storyboard>
                                    <DoubleAnimation Storyboard.TargetProperty="(RenderTransform).(TranslateTransform.Y)"
                                                   To="-4" Duration="0:0:0.2"
                                                   EasingFunction="{StaticResource EaseOut}"/>
                                    <DoubleAnimation Storyboard.TargetProperty="Effect.Opacity"
                                                   To="0.5" Duration="0:0:0.2"/>
                                    <DoubleAnimation Storyboard.TargetProperty="Effect.BlurRadius"
                                                   To="15" Duration="0:0:0.2"/>
                                </Storyboard>
                            </BeginStoryboard>
                        </Trigger.EnterActions>
                        <Trigger.ExitActions>
                            <BeginStoryboard>
                                <Storyboard>
                                    <DoubleAnimation Storyboard.TargetProperty="(RenderTransform).(TranslateTransform.Y)"
                                                   To="0" Duration="0:0:0.2"
                                                   EasingFunction="{StaticResource EaseOut}"/>
                                    <DoubleAnimation Storyboard.TargetProperty="Effect.Opacity"
                                                   To="0.3" Duration="0:0:0.2"/>
                                    <DoubleAnimation Storyboard.TargetProperty="Effect.BlurRadius"
                                                   To="10" Duration="0:0:0.2"/>
                                </Storyboard>
                            </BeginStoryboard>
                        </Trigger.ExitActions>
                    </Trigger>
                </Style.Triggers>
            </Style>

            <!-- Neon Glow Button Style with Hover Animation -->
            <Style x:Key="NeonGlowButton" TargetType="{x:Type Button}" BasedOn="{StaticResource {x:Type Button}}">
                <Setter Property="Background" Value="{StaticResource CyberTealBrush}"/>
                <Setter Property="BorderBrush" Value="{StaticResource CyberTealBrush}"/>
                <Setter Property="Foreground" Value="#0B1120"/> <!-- Dark text on bright button -->
                <Setter Property="FontWeight" Value="Bold"/>
                <Setter Property="RenderTransform">
                    <Setter.Value>
                        <ScaleTransform ScaleX="1" ScaleY="1"/>
                    </Setter.Value>
                </Setter>
                <Setter Property="RenderTransformOrigin" Value="0.5,0.5"/>
                <Setter Property="Effect">
                    <Setter.Value>
                        <DropShadowEffect Color="{StaticResource CyberTealColor}" BlurRadius="15" ShadowDepth="0" Opacity="0.4"/>
                    </Setter.Value>
                </Setter>
                <Style.Triggers>
                    <Trigger Property="IsMouseOver" Value="True">
                        <Trigger.EnterActions>
                            <BeginStoryboard>
                                <Storyboard>
                                    <DoubleAnimation Storyboard.TargetProperty="(RenderTransform).(ScaleTransform.ScaleX)"
                                                   To="1.05" Duration="0:0:0.15"
                                                   EasingFunction="{StaticResource EaseOut}"/>
                                    <DoubleAnimation Storyboard.TargetProperty="(RenderTransform).(ScaleTransform.ScaleY)"
                                                   To="1.05" Duration="0:0:0.15"
                                                   EasingFunction="{StaticResource EaseOut}"/>
                                    <DoubleAnimation Storyboard.TargetProperty="Effect.Opacity"
                                                   To="0.7" Duration="0:0:0.15"/>
                                </Storyboard>
                            </BeginStoryboard>
                        </Trigger.EnterActions>
                        <Trigger.ExitActions>
                            <BeginStoryboard>
                                <Storyboard>
                                    <DoubleAnimation Storyboard.TargetProperty="(RenderTransform).(ScaleTransform.ScaleX)"
                                                   To="1" Duration="0:0:0.15"
                                                   EasingFunction="{StaticResource EaseOut}"/>
                                    <DoubleAnimation Storyboard.TargetProperty="(RenderTransform).(ScaleTransform.ScaleY)"
                                                   To="1" Duration="0:0:0.15"
                                                   EasingFunction="{StaticResource EaseOut}"/>
                                    <DoubleAnimation Storyboard.TargetProperty="Effect.Opacity"
                                                   To="0.4" Duration="0:0:0.15"/>
                                </Storyboard>
                            </BeginStoryboard>
                        </Trigger.ExitActions>
                    </Trigger>
                </Style.Triggers>
            </Style>

            <!-- Global Control Overrides for Dark Theme -->
            <Style TargetType="TextBox" BasedOn="{StaticResource {x:Type TextBox}}">
                <Setter Property="Background" Value="{StaticResource SlateDarkBrush}"/>
                <Setter Property="Foreground" Value="{StaticResource MaterialDesignBody}"/>
                <Setter Property="BorderBrush" Value="{StaticResource GlassBorderBrush}"/>
                <Setter Property="CaretBrush" Value="{StaticResource MaterialDesignBody}"/>
                <Setter Property="Padding" Value="8,4"/>
            </Style>
            
             <Style TargetType="ComboBox" BasedOn="{StaticResource {x:Type ComboBox}}">
                <Setter Property="Background" Value="{StaticResource SlateDarkBrush}"/>
                <Setter Property="Foreground" Value="{StaticResource MaterialDesignBody}"/>
                <Setter Property="BorderBrush" Value="{StaticResource GlassBorderBrush}"/>
                <Setter Property="materialDesign:TextFieldAssist.UnderlineBrush" Value="{StaticResource GlassBorderBrush}"/>
            </Style>

            <Style TargetType="ComboBoxItem" BasedOn="{StaticResource {x:Type ComboBoxItem}}">
                <Setter Property="Padding" Value="8,10"/>
                <Setter Property="Foreground" Value="{StaticResource MaterialDesignBody}"/>
                <Setter Property="Background" Value="{StaticResource SlateDarkBrush}"/>
                <Style.Triggers>
                    <Trigger Property="IsSelected" Value="True">
                        <Setter Property="Background" Value="#2DD4BF"/>
                        <Setter Property="Foreground" Value="#0B1120"/>
                    </Trigger>
                    <Trigger Property="IsMouseOver" Value="True">
                        <Setter Property="Background" Value="#334155"/>
                    </Trigger>
                </Style.Triggers>
            </Style>

            <Style TargetType="ListBox" BasedOn="{StaticResource {x:Type ListBox}}">
                <Setter Property="Background" Value="Transparent"/>
                <Setter Property="BorderBrush" Value="Transparent"/>
            </Style>

            <Style TargetType="ListBoxItem" BasedOn="{StaticResource {x:Type ListBoxItem}}">
                <Setter Property="Background" Value="Transparent"/>
                <Setter Property="Foreground" Value="{StaticResource MaterialDesignBody}"/>
                <Setter Property="Padding" Value="8"/>
                <Style.Triggers>
                    <Trigger Property="IsSelected" Value="True">
                        <Setter Property="Background" Value="#2DD4BF"/>
                        <Setter Property="Foreground" Value="#0B1120"/>
                    </Trigger>
                    <Trigger Property="IsMouseOver" Value="True">
                        <Trigger.EnterActions>
                            <BeginStoryboard>
                                <Storyboard>
                                    <ColorAnimation Storyboard.TargetProperty="(Background).(SolidColorBrush.Color)"
                                                  To="#334155" Duration="0:0:0.15"/>
                                </Storyboard>
                            </BeginStoryboard>
                        </Trigger.EnterActions>
                        <Trigger.ExitActions>
                            <BeginStoryboard>
                                <Storyboard>
                                    <ColorAnimation Storyboard.TargetProperty="(Background).(SolidColorBrush.Color)"
                                                  To="Transparent" Duration="0:0:0.15"/>
                                </Storyboard>
                            </BeginStoryboard>
                        </Trigger.ExitActions>
                    </Trigger>
                </Style.Triggers>
            </Style>

            <Style TargetType="DataGrid" BasedOn="{StaticResource {x:Type DataGrid}}">
                <Setter Property="Background" Value="Transparent"/>
                <Setter Property="BorderBrush" Value="{StaticResource GlassBorderBrush}"/>
                <Setter Property="HorizontalGridLinesBrush" Value="{StaticResource GlassBorderBrush}"/>
                <Setter Property="VerticalGridLinesBrush" Value="{StaticResource GlassBorderBrush}"/>
            </Style>

            <Style TargetType="DataGridColumnHeader" BasedOn="{StaticResource {x:Type DataGridColumnHeader}}">
                <Setter Property="Background" Value="{StaticResource VoidBlueBrush}"/>
                <Setter Property="Foreground" Value="{StaticResource MaterialDesignBody}"/>
                <Setter Property="Padding" Value="10,5"/>
                <Setter Property="FontWeight" Value="SemiBold"/>
            </Style>
            
            <Style TargetType="DataGridRow" BasedOn="{StaticResource {x:Type DataGridRow}}">
                <Setter Property="Background" Value="Transparent"/>
                <Style.Triggers>
                    <Trigger Property="IsSelected" Value="True">
                        <Setter Property="Background" Value="#2DD4BF"/>
                        <Setter Property="Foreground" Value="#0B1120"/>
                    </Trigger>
                </Style.Triggers>
            </Style>

            <Style TargetType="DataGridCell" BasedOn="{StaticResource {x:Type DataGridCell}}">
                 <Setter Property="Foreground" Value="{StaticResource MaterialDesignBody}"/>
                  <Setter Property="Padding" Value="10,5"/>
            </Style>

            <Style TargetType="{x:Type materialDesign:Chip}" BasedOn="{StaticResource {x:Type materialDesign:Chip}}">
                <Setter Property="Background" Value="{StaticResource GlassBorderBrush}"/>
                <Setter Property="Foreground" Value="{StaticResource MaterialDesignBody}"/>
            </Style>

            <Style TargetType="TextBlock">
                <Setter Property="Foreground" Value="{StaticResource MaterialDesignBody}"/>
            </Style>

            <!-- TabControl and TabItem Styles -->
            <Style TargetType="TabControl" BasedOn="{StaticResource {x:Type TabControl}}">
                <Setter Property="Background" Value="Transparent"/>
            </Style>

            <Style TargetType="TabItem" BasedOn="{StaticResource {x:Type TabItem}}">
                <Setter Property="Background" Value="{StaticResource SlateDarkBrush}"/>
                <Setter Property="Foreground" Value="{StaticResource MaterialDesignBody}"/>
                <Style.Triggers>
                    <Trigger Property="IsSelected" Value="True">
                        <Setter Property="Background" Value="#2DD4BF"/>
                        <Setter Property="Foreground" Value="#0B1120"/>
                    </Trigger>
                </Style.Triggers>
            </Style>


            <!-- TYPOGRAPHY STYLES FOR VISUAL HIERARCHY -->
            <Style x:Key="H1" TargetType="TextBlock">
                <Setter Property="FontSize" Value="32"/>
                <Setter Property="FontWeight" Value="Bold"/>
                <Setter Property="Foreground" Value="White"/>
                <Setter Property="Margin" Value="0,0,0,16"/>
            </Style>
            
            <Style x:Key="H2" TargetType="TextBlock">
                <Setter Property="FontSize" Value="24"/>
                <Setter Property="FontWeight" Value="SemiBold"/>
                <Setter Property="Foreground" Value="White"/>
                <Setter Property="Margin" Value="0,0,0,12"/>
            </Style>
            
            <Style x:Key="H3" TargetType="TextBlock">
                <Setter Property="FontSize" Value="18"/>
                <Setter Property="FontWeight" Value="SemiBold"/>
                <Setter Property="Foreground" Value="White"/>
                <Setter Property="Margin" Value="0,0,0,8"/>
            </Style>
            
            <Style x:Key="Subtitle" TargetType="TextBlock">
                <Setter Property="FontSize" Value="14"/>
                <Setter Property="Foreground" Value="{StaticResource MaterialDesignBodyLight}"/>
                <Setter Property="Margin" Value="0,0,0,4"/>
            </Style>
            
            <Style x:Key="Caption" TargetType="TextBlock">
                <Setter Property="FontSize" Value="12"/>
                <Setter Property="Foreground" Value="{StaticResource MaterialDesignBodyLight}"/>
                <Setter Property="Opacity" Value="0.7"/>
            </Style>

            <!-- Converters -->
            <BooleanToVisibilityConverter x:Key="BoolToVisConverter"/>
        </ResourceDictionary>
    </Application.Resources>
</Application>
